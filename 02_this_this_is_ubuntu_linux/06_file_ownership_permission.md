# 파일과 디렉토리의 소유와 허가권

## 1. 파일의 리스트와 속성파일

- 파일 생성
  ```
  # touch sample.txt
  ```

- 파일 리스트 자세히 보기
  ```
  # ls -l sample.txt
  ```

- 파일의 속성
  ```
  -rw-r--r-- 1 root root 0 1월 15 11:42 sample.txt
  ```
  - 파일 유형 : `-`
  - 파일 허가권 : `rw-r--r--`
  - 링크수 : `1`
  - 파일 소유자 이름 : `root`
  - 파일 소유자 그룹 : `root`
  - 파일 크기 : `0`
  - 마지막 변경 날짜/시간 : `1월 15 11:42`
  - 파일이름 : `sample.txt`

- 파일 유형
  - 디렉토리 : `d`
  - 일반적인 파일 : `-`

- 파일 허가권(permission)
  - `rw-` , `r--`, `r--` 3개씩 끊어서 읽는다.
    - `r` : read
    - `w` : write
    - `x` : execute
  - 첫번째 `rw-` : 소유자(User)의 파일접근 권한
  - 두번째 `r--` : 그룹(Group)의 파일접근 권한
  - 세번째 `r--` : 그외의 사용자(Other)의 파일접근 권한
  - 숫자로도 표시가능(8진수)
    - `w` : 6
    - `r` : 2
    - `x` : 1

- `chmod` : 파일의 허가권 변경 명령어
  - 숫자로 변경
    ```
    # chmod [권한숫자 세자리] [파일명]
    # chmod 777 sample.txt
    ```
  - 심볼릭으로 변경 : `u`(소유자) / `g`(그룹) / `o`(일반사용자) / `+`(권한부여) / `-`(권한제거)
    ```
    # chmod [소유자/그룹/일반사용자][+/-] [파일명]
    # chmod o-x sample.txt
    ```
- 파일 소유권(Ownership) : 파일을 소유한 사용자와 그룹을 의미한다.

- `chown`, `chgrp` : 파일의 소유권을 변경 명령어
  - 사용자, 그룹명 동시 변경
    ```
    # chown [사용자].[그룹명] [파일명]
    # chown ubuntu.ubuntu sample.txt
    ```
  - 사용자만 변경
    ```
    # chown [사용자] [파일명]
    # chown ubuntu sample.txt
    ```
  - 그룹만 변경
    ```
    # chgrp [그룹명] [파일명]
    # chgrp ubuntu sample.txt
    ```

## 2. 링크
- 링크의 종류
  - 하드링크(Hard Link)
    - 하드 링크를 생성하면 하드 링크 파일만 하나 생성되면 원본파일과 같은 inode를 사용한다.
    - 명령어
      ```
      # ln [링크대상파일이름] [링크파일이름]
      ```
  - 심볼릭 링크(Symbolic Link) : windows의 바로가기와 유사
    - 심볼릭 링크를 생성하면 새로운 inode를 생성하고 데이터는 원본파일을 연결하는 효과이다.
    - 명령어
      ```
      # ln -s [링크대상파일이름] [링크파일이름]
      ```
