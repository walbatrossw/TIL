# RAID

## 1. RAID 정의
- RAID(Redundant Array of Inexpensive Disks)는 여러 개의 디스크를 하나의 디스크처럼 사용
- 비용절감 + 신뢰성 향상 + 성능 향상의 효과

## 2. 하드웨어 RAID
- 하드웨어 제조업체에서 여러 개의 하드디스크를 가지고 장비를 만들어 그자체를 공급
- 좀더 안정적이나 상당히 고가

## 3. 소프트웨어 RAID
- 고가의 하드웨어 RAID의 대안
- 운영체제에서 지원하는 방식
- 저렴한 비용으로 좀더 안전한 데이터의 저장이 가능

## 4. 각 RAID방식의 비교
![RAID방식비교](http://cfile26.uf.tistory.com/image/990548465A5F2814295707)
- 단순 볼륨
  - 사용량: 1T(N)
  - 1개 하드디스크만
- Linear RAID
  - 사용량: 2T(N)
  - 최소 2개 이상 하드디스크 필요
  - 1번째 디스크부터 차례로 저장
  - 디스크 추가 가능
  - 100% 공간 효율
  - 신뢰성이 낮다.
  - 디스크 크기가 다르더라도 공간효율이 좋다
- RAID0
  - 사용량: 2T(N)
  - 최소 2개 이상의 하드디스크 필요
  - 모든 디스크에 동시 저장(나누어서 저장)
  - 가장 빠름(신뢰성이 낮다) : 손실되도 상관없는 데이터를 저장하는데 적합
  - Stripping
  - 결함 허용(Fault-tolerance) 제공하지 않는다.
- RAID1
  - 사용량: 1T(N/2), 데이터의 두 배의 용량이 필요
  - 2개
  - 동시저장(동일한 데이터를 똑같이 저장)
  - 신뢰성 높음 : 중요한 데이터 저장에 적합
  - 공간효율 낮음(비용이 많이듬)
  - 결함 허용(Fault-tolerance) 제공
  - Mirroring
- RAID5
  - RAID1의 안전성 + RAID0의 효율성
  - 사용량: 2T(N-1)
  - 3개 이상
  - 결함 허용(Fault-tolerance) 제공(2개이상이 이상 발생시 결함 허용 제공X)
  - 오류 발생시 패리티 정보 사용하여 복구(1개)
  - 공간 효츌 좋음
- RAID6 : RAID5를 개선
  - 사용량: 2T(N-2)
  - 4개 이상
  - RAID5의 개선
  - 결함 허용(Fault-tolerance) 제공
  - 중복 패리티 정보 사용(2개)
  - 저장 속도가 다소 느리다

- RAID 구성시 공간을 효율적으로 사용하기 위해서는 반드시 동일한 크기의 디스크를 사용하는 것이 좋다.
- 또한 제조사, 모델등을 동일한 것으로 사용하는 것이 좋다.
> N: 디스크의 갯수, 각 디스크당 1TB일 경우 사용량을 나타냄

## 5. RAID 구현해보기
- Linear RAID : `/dev/sdb`(2TB), `/dev/sdc`(1TB)
- RAID0 : `/dev/sdd`(1TB), `/dev/sde`(1TB)
- RAID1 : `/dev/sdf`(1TB), `/dev/sdg`(1TB)
- RAID5 : `/dev/sdh`(1TB), `/dev/sdi`(1TB), `/dev/sdj`(1TB)
- RAID 구현을 위한 준비
  - VMware로 하드디스크 9개 생성
  - 생성된 하드디스크 파티션 생성
    - 디스크 확인
      ```
      # ls -l /dev/sd*
      ```
    - 파티션 설정
      ```
      # fdisk [각각의 디스크]
      ```
      - 파티션 생성 : `n`
      - 파티션 확인 : `p`
      - 파티션 시작, 끝 : `Enter`
      - 타입변경 : `t` -> `fd`(linux riad auto)
      - 파티션 등록 : `w`
